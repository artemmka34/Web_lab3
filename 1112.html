<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Задание 11-12</title>
	</head>
	<body style="background-color: #0591ff">
		<h1>Страничка по заказу</h1>
		<table>
			<tr>
				<td> <p>Порода собаки</p>  </td>
				<td><select id="pam"> <option>Корги</option> <option>Овчарка</option> <option>Самоед</option></select> </td>
			</tr>
		</table>
		<table>
			<tr>
				<td rowspan="3"> <p>Фон</p>  </td>
				<td ><input type="radio" id="firstimg"> </td>
				<td> <p>Лес</p></td>
			</tr>
			<tr>
				<td ><input type="radio" id="secimg"> </td>
				<td> <p>Город</p></td>
			</tr>
			<tr>
				<td ><input type="radio" id="thirdimg"> </td>
				<td> <p>Горы</p></td>
			</tr>
		</table>
		<table>
			<tr>
				<td> <p> Заголовок:</p>  </td>
				<td> <input id="uptext"> </td>
			</tr>
		</table>
		<table>
			<tr>
				<td rowspan="3"> <p>Текст:</p>  </td>
				<td> <input type="checkbox" id="firsttxt"> </td>
				<td> <p style="font-style: italic;">Курсив</p></td>
			</tr>
			<tr>
				<td> <input type="checkbox" id="sectxt"> </td>
				<td> <p style="text-decoration: underline;">Подчеркнутый</p></td>
			</tr>
			<tr>
				<td> <input type="checkbox" id="thirdtxt"> </td>
				<td> <p style="font-weight: bold;">Жирный</p></td>
			</tr>
		</table>
		<button id="clean">Очистсить</button>
		<button id="go">Вывести</button>
		<script type="text/javascript">
			var firstimg = document.getElementById('firstimg');
			var secimg = document.getElementById('secimg');
			var thirdimg = document.getElementById('thirdimg');
			var back = document.getElementById('pam');
			var firsttxt = document.getElementById('firsttxt');
			var sectxt = document.getElementById('sectxt');
			var thirdtxt = document.getElementById('thirdtxt');
			firstimg.addEventListener("change", function() {
				if(firstimg.checked==true)
				{
					secimg.checked =  false;
					thirdimg.checked =  false;
				}
			});
			secimg.addEventListener("change", function() {
				if(secimg.checked==true)
				{
					firstimg.checked =  false;
					thirdimg.checked =  false;
				}
			});
			thirdimg.addEventListener("change", function() {
				if(thirdimg.checked==true)
				{
					secimg.checked =  false;
					firstimg.checked =  false;
				}
			});
			document.getElementById('clean').addEventListener('click', function() {
				document.getElementById('uptext').value = "";
				firstimg.checked = false;
				secimg.checked = false;
				thirdimg.checked = false;
				pam.selectedindex = 0;
				firsttxt.checked = false;
				sectxt.checked = false;
				thirdtxt.checked = false;
			});
			document.getElementById('go').addEventListener('click', function() {
				var first_teeeext; 
				first_teeeext = document.getElementById('uptext').value  
				var src_pam;
				var src_back;
				var style_text = ""
				style_text+='style="'
				first_teeeext = document.getElementById('uptext').value;
				if(firsttxt.checked==true)
				{
					style_text += ' font-style: italic;';
				}
				if(sectxt.checked==true)
				{
					style_text += ' text-decoration: underline;';
				}
				if(thirdtxt.checked==true)
				{
					style_text += ' font-weight: bold;';
				}
				style_text+='"'
				if(firstimg.checked==true)
				{
					src_back = "forest.jpg"
				}
				else if(secimg.checked==true)
				{
					src_back = "town.jpg"
				}
				else if(thirdimg.checked==true)
				{
					src_back = "mount.jpg"
				}
				
				if(pam.value=='Корги')
				{
					src_pam = 'korg.jpg';
				}
				else if(pam.value=='Овчарка')
				{
					src_pam = 'ovchar.jpg';
				}
				else if(pam.value=='Самоед')
				{
					src_pam = 'samoed.jpg';
				}
				var win=window.open("","","width=1000px,height=509px");
				win.document.open();
				var temp='<head><title>Document</title></head><body style="background-image:url('+src_back+'); background-size: cover;"><h1 '+style_text+'">'+pam.value +'</h1> <img src ='+src_pam+' height="600" width="1000"> <p '+style_text+'">'+first_teeeext+'</p></body>'
				win.document.write(temp); 
			});
		</script>
	</body>
</html>